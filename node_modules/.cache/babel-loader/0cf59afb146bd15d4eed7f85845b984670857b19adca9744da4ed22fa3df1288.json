{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL||\"https://tenderbidding-2.onrender.com\";export default function UploadProducts(){const[file,setFile]=useState(null);const[msg,setMsg]=useState(\"\");const uploadCSV=async()=>{if(!file){alert(\"Please select a CSV file\");return;}const formData=new FormData();formData.append(\"file\",file);try{const res=await axios.post(\"\".concat(BACKEND_URL,\"/upload_products\"),formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});setMsg(\"\\u2705 \".concat(res.data.count,\" products uploaded successfully\"));}catch(err){console.error(err);setMsg(\"❌ Upload failed. Check backend.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{maxWidth:600,margin:\"0 auto\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Upload Products CSV\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".csv\",className:\"input\",onChange:e=>setFile(e.target.files[0]),style:{marginBottom:12}}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:uploadCSV,children:\"Upload Products\"}),msg&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:16},className:\"small\",children:msg})]});}","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","UploadProducts","file","setFile","msg","setMsg","uploadCSV","alert","formData","FormData","append","res","post","concat","headers","data","count","err","console","error","className","style","maxWidth","margin","children","type","accept","onChange","e","target","files","marginBottom","onClick","marginTop"],"sources":["/workspaces/tenderBidding/src/pages/UploadProducts.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst BACKEND_URL =\n  process.env.REACT_APP_BACKEND_URL ||\n  \"https://tenderbidding-2.onrender.com\";\n\nexport default function UploadProducts() {\n  const [file, setFile] = useState(null);\n  const [msg, setMsg] = useState(\"\");\n\n  const uploadCSV = async () => {\n    if (!file) {\n      alert(\"Please select a CSV file\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    try {\n      const res = await axios.post(\n        `${BACKEND_URL}/upload_products`,\n        formData,\n        { headers: { \"Content-Type\": \"multipart/form-data\" } }\n      );\n\n      setMsg(\n        `✅ ${res.data.count} products uploaded successfully`\n      );\n    } catch (err) {\n      console.error(err);\n      setMsg(\"❌ Upload failed. Check backend.\");\n    }\n  };\n\n  return (\n    <div className=\"card\" style={{ maxWidth: 600, margin: \"0 auto\" }}>\n      <h3>Upload Products CSV</h3>\n\n      <input\n        type=\"file\"\n        accept=\".csv\"\n        className=\"input\"\n        onChange={(e) => setFile(e.target.files[0])}\n        style={{ marginBottom: 12 }}\n      />\n\n      <button className=\"button\" onClick={uploadCSV}>\n        Upload Products\n      </button>\n\n      {msg && (\n        <div style={{ marginTop: 16 }} className=\"small\">\n          {msg}\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,WAAW,CACfC,OAAO,CAACC,GAAG,CAACC,qBAAqB,EACjC,sCAAsC,CAExC,cAAe,SAAS,CAAAC,cAAcA,CAAA,CAAG,CACvC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACa,GAAG,CAAEC,MAAM,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAElC,KAAM,CAAAe,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CAACJ,IAAI,CAAE,CACTK,KAAK,CAAC,0BAA0B,CAAC,CACjC,OACF,CAEA,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAER,IAAI,CAAC,CAE7B,GAAI,CACF,KAAM,CAAAS,GAAG,CAAG,KAAM,CAAAnB,KAAK,CAACoB,IAAI,IAAAC,MAAA,CACvBhB,WAAW,qBACdW,QAAQ,CACR,CAAEM,OAAO,CAAE,CAAE,cAAc,CAAE,qBAAsB,CAAE,CACvD,CAAC,CAEDT,MAAM,WAAAQ,MAAA,CACCF,GAAG,CAACI,IAAI,CAACC,KAAK,mCACrB,CAAC,CACH,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAClBZ,MAAM,CAAC,iCAAiC,CAAC,CAC3C,CACF,CAAC,CAED,mBACET,KAAA,QAAKwB,SAAS,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,MAAM,CAAE,QAAS,CAAE,CAAAC,QAAA,eAC/D9B,IAAA,OAAA8B,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAE5B9B,IAAA,UACE+B,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,MAAM,CACbN,SAAS,CAAC,OAAO,CACjBO,QAAQ,CAAGC,CAAC,EAAKzB,OAAO,CAACyB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAE,CAC5CT,KAAK,CAAE,CAAEU,YAAY,CAAE,EAAG,CAAE,CAC7B,CAAC,cAEFrC,IAAA,WAAQ0B,SAAS,CAAC,QAAQ,CAACY,OAAO,CAAE1B,SAAU,CAAAkB,QAAA,CAAC,iBAE/C,CAAQ,CAAC,CAERpB,GAAG,eACFV,IAAA,QAAK2B,KAAK,CAAE,CAAEY,SAAS,CAAE,EAAG,CAAE,CAACb,SAAS,CAAC,OAAO,CAAAI,QAAA,CAC7CpB,GAAG,CACD,CACN,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}