{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function History(){const[proposals,setProposals]=useState(null);useEffect(()=>{const load=async()=>{try{const res=await axios.get(\"/list_proposals\");setProposals(res.data.proposals||[]);}catch(err){console.error(\"History load err\",err);setProposals([]);}};load();},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:12},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Proposal History\"}),!proposals&&/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}),proposals&&proposals.length===0&&/*#__PURE__*/_jsx(\"div\",{children:\"No history yet.\"}),proposals&&proposals.map(p=>/*#__PURE__*/_jsxs(\"div\",{style:{border:\"1px solid #eee\",padding:10,marginBottom:8},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700},children:p.tender_name}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Product: \",p.chosen_product_name]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Saved: \",new Date(p.timestamp).toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Status: \",p.outcome]})]},p.id))]});}","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","History","proposals","setProposals","load","res","get","data","err","console","error","style","padding","children","length","map","p","border","marginBottom","fontWeight","tender_name","chosen_product_name","Date","timestamp","toLocaleString","outcome","id"],"sources":["/workspaces/tenderBidding/src/pages/History.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function History() {\n  const [proposals, setProposals] = useState(null);\n\n  useEffect(()=> {\n    const load = async () => {\n      try {\n        const res = await axios.get(\"/list_proposals\");\n        setProposals(res.data.proposals || []);\n      } catch (err) {\n        console.error(\"History load err\", err);\n        setProposals([]);\n      }\n    };\n    load();\n  }, []);\n\n  return (\n    <div style={{ padding:12 }}>\n      <h2>Proposal History</h2>\n      {!proposals && <div>Loading...</div>}\n      {proposals && proposals.length === 0 && <div>No history yet.</div>}\n      {proposals && proposals.map(p => (\n        <div key={p.id} style={{ border: \"1px solid #eee\", padding: 10, marginBottom: 8 }}>\n          <div style={{ fontWeight:700 }}>{p.tender_name}</div>\n          <div>Product: {p.chosen_product_name}</div>\n          <div>Saved: {new Date(p.timestamp).toLocaleString()}</div>\n          <div>Status: {p.outcome}</div>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,OAAOA,CAAA,CAAG,CAChC,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CAEhDD,SAAS,CAAC,IAAK,CACb,KAAM,CAAAU,IAAI,CAAG,KAAAA,CAAA,GAAY,CACvB,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAT,KAAK,CAACU,GAAG,CAAC,iBAAiB,CAAC,CAC9CH,YAAY,CAACE,GAAG,CAACE,IAAI,CAACL,SAAS,EAAI,EAAE,CAAC,CACxC,CAAE,MAAOM,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,kBAAkB,CAAEF,GAAG,CAAC,CACtCL,YAAY,CAAC,EAAE,CAAC,CAClB,CACF,CAAC,CACDC,IAAI,CAAC,CAAC,CACR,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEJ,KAAA,QAAKW,KAAK,CAAE,CAAEC,OAAO,CAAC,EAAG,CAAE,CAAAC,QAAA,eACzBf,IAAA,OAAAe,QAAA,CAAI,kBAAgB,CAAI,CAAC,CACxB,CAACX,SAAS,eAAIJ,IAAA,QAAAe,QAAA,CAAK,YAAU,CAAK,CAAC,CACnCX,SAAS,EAAIA,SAAS,CAACY,MAAM,GAAK,CAAC,eAAIhB,IAAA,QAAAe,QAAA,CAAK,iBAAe,CAAK,CAAC,CACjEX,SAAS,EAAIA,SAAS,CAACa,GAAG,CAACC,CAAC,eAC3BhB,KAAA,QAAgBW,KAAK,CAAE,CAAEM,MAAM,CAAE,gBAAgB,CAAEL,OAAO,CAAE,EAAE,CAAEM,YAAY,CAAE,CAAE,CAAE,CAAAL,QAAA,eAChFf,IAAA,QAAKa,KAAK,CAAE,CAAEQ,UAAU,CAAC,GAAI,CAAE,CAAAN,QAAA,CAAEG,CAAC,CAACI,WAAW,CAAM,CAAC,cACrDpB,KAAA,QAAAa,QAAA,EAAK,WAAS,CAACG,CAAC,CAACK,mBAAmB,EAAM,CAAC,cAC3CrB,KAAA,QAAAa,QAAA,EAAK,SAAO,CAAC,GAAI,CAAAS,IAAI,CAACN,CAAC,CAACO,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,EAAM,CAAC,cAC1DxB,KAAA,QAAAa,QAAA,EAAK,UAAQ,CAACG,CAAC,CAACS,OAAO,EAAM,CAAC,GAJtBT,CAAC,CAACU,EAKP,CACN,CAAC,EACC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}