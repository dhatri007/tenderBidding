{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL||\"https://tenderbidding-2.onrender.com\";export default function Home(){var _result$pricing,_result$pricing2,_result$pricing3;const[file,setFile]=useState(null);const[result,setResult]=useState(null);const[section,setSection]=useState(null);const[loading,setLoading]=useState(false);const processTender=async()=>{if(!file){alert(\"Please upload a tender PDF\");return;}const formData=new FormData();formData.append(\"file\",file);try{setLoading(true);const res=await axios.post(\"\".concat(BACKEND_URL,\"/process_tender_pdf\"),formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});setResult(res.data);setSection(\"summary\");}catch(err){alert(\"Tender processing failed\");}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:24},children:[/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:640,margin:\"0 auto\",background:\"#f3eef9\",padding:28,borderRadius:16,boxShadow:\"0 12px 30px rgba(0,0,0,0.15)\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Upload Your Tender Document\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"input\",style:{marginTop:10},onChange:e=>setFile(e.target.files[0])}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",style:{width:\"50%\",marginTop:16},onClick:processTender,disabled:loading,children:loading?\"Processing...\":\"Generate Tender Summary\"})]}),result&&/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:16,justifyContent:\"center\",marginTop:28,flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(\"button\",{className:\"button secondary\",onClick:()=>setSection(\"profile\"),children:\"View Quick Profile Summary\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button secondary\",onClick:()=>setSection(\"bidding\"),children:\"Get Bid Recommendations\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:()=>setSection(\"proposal\"),children:\"Generate Final Proposal PDF\"})]}),result&&section&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginTop:30,maxWidth:900,marginInline:\"auto\"},children:[section===\"summary\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tender Summary\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"small\",children:JSON.stringify(result.summary||result,null,2)})]}),section===\"profile\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Quick Profile Summary\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"small\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Product Match: \",result.product_name||\"N/A\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Quantity: \",result.quantity||\"N/A\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Location: \",result.location||\"N/A\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Match Score: \",result.match_score||\"N/A\"]})]})]}),section===\"bidding\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Bid Recommendations\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"small\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Base Price: \\u20B9\",(_result$pricing=result.pricing)===null||_result$pricing===void 0?void 0:_result$pricing.base_price]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Logistics Cost: \\u20B9\",(_result$pricing2=result.pricing)===null||_result$pricing2===void 0?void 0:_result$pricing2.logistics]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Final Bid: \\u20B9\",(_result$pricing3=result.pricing)===null||_result$pricing3===void 0?void 0:_result$pricing3.price_final]}),/*#__PURE__*/_jsx(\"li\",{children:\"Estimated Win Probability: ~52%\"})]})]}),section===\"proposal\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Final Proposal Generated\"}),/*#__PURE__*/_jsx(\"p\",{className:\"small\",children:\"Proposal PDF has been generated successfully and is ready for submission.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"small\",children:\"(For demo: PDF generation handled by backend)\"})]})]})]});}","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","Home","_result$pricing","_result$pricing2","_result$pricing3","file","setFile","result","setResult","section","setSection","loading","setLoading","processTender","alert","formData","FormData","append","res","post","concat","headers","data","err","style","padding","children","maxWidth","margin","background","borderRadius","boxShadow","type","className","marginTop","onChange","e","target","files","width","onClick","disabled","display","gap","justifyContent","flexWrap","marginInline","JSON","stringify","summary","product_name","quantity","location","match_score","pricing","base_price","logistics","price_final"],"sources":["/workspaces/tenderBidding/src/pages/Home.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst BACKEND_URL =\n  process.env.REACT_APP_BACKEND_URL ||\n  \"https://tenderbidding-2.onrender.com\";\n\nexport default function Home() {\n  const [file, setFile] = useState(null);\n  const [result, setResult] = useState(null);\n  const [section, setSection] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const processTender = async () => {\n    if (!file) {\n      alert(\"Please upload a tender PDF\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    try {\n      setLoading(true);\n      const res = await axios.post(\n        `${BACKEND_URL}/process_tender_pdf`,\n        formData,\n        { headers: { \"Content-Type\": \"multipart/form-data\" } }\n      );\n      setResult(res.data);\n      setSection(\"summary\");\n    } catch (err) {\n      alert(\"Tender processing failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ padding: 24 }}>\n      {/* Upload Card */}\n      <div\n        style={{\n          maxWidth: 640,\n          margin: \"0 auto\",\n          background: \"#f3eef9\",\n          padding: 28,\n          borderRadius: 16,\n          boxShadow: \"0 12px 30px rgba(0,0,0,0.15)\",\n        }}\n      >\n        <h2>Upload Your Tender Document</h2>\n\n        <input\n          type=\"file\"\n          className=\"input\"\n          style={{ marginTop: 10 }}\n          onChange={(e) => setFile(e.target.files[0])}\n        />\n\n        <button\n          className=\"button\"\n          style={{ width: \"50%\", marginTop: 16 }}\n          onClick={processTender}\n          disabled={loading}\n        >\n          {loading ? \"Processing...\" : \"Generate Tender Summary\"}\n        </button>\n      </div>\n\n      {/* Action Buttons */}\n      {result && (\n        <div\n          style={{\n            display: \"flex\",\n            gap: 16,\n            justifyContent: \"center\",\n            marginTop: 28,\n            flexWrap: \"wrap\",\n          }}\n        >\n          <button\n            className=\"button secondary\"\n            onClick={() => setSection(\"profile\")}\n          >\n            View Quick Profile Summary\n          </button>\n\n          <button\n            className=\"button secondary\"\n            onClick={() => setSection(\"bidding\")}\n          >\n            Get Bid Recommendations\n          </button>\n\n          <button\n            className=\"button\"\n            onClick={() => setSection(\"proposal\")}\n          >\n            Generate Final Proposal PDF\n          </button>\n        </div>\n      )}\n\n      {/* Output Sections */}\n      {result && section && (\n        <div\n          className=\"card\"\n          style={{\n            marginTop: 30,\n            maxWidth: 900,\n            marginInline: \"auto\",\n          }}\n        >\n          {section === \"summary\" && (\n            <>\n              <h3>Tender Summary</h3>\n              <pre className=\"small\">\n                {JSON.stringify(result.summary || result, null, 2)}\n              </pre>\n            </>\n          )}\n\n          {section === \"profile\" && (\n            <>\n              <h3>Quick Profile Summary</h3>\n              <ul className=\"small\">\n                <li>Product Match: {result.product_name || \"N/A\"}</li>\n                <li>Quantity: {result.quantity || \"N/A\"}</li>\n                <li>Location: {result.location || \"N/A\"}</li>\n                <li>Match Score: {result.match_score || \"N/A\"}</li>\n              </ul>\n            </>\n          )}\n\n          {section === \"bidding\" && (\n            <>\n              <h3>Bid Recommendations</h3>\n              <ul className=\"small\">\n                <li>Base Price: ₹{result.pricing?.base_price}</li>\n                <li>Logistics Cost: ₹{result.pricing?.logistics}</li>\n                <li>\n                  Final Bid: ₹{result.pricing?.price_final}\n                </li>\n                <li>\n                  Estimated Win Probability: ~52%\n                </li>\n              </ul>\n            </>\n          )}\n\n          {section === \"proposal\" && (\n            <>\n              <h3>Final Proposal Generated</h3>\n              <p className=\"small\">\n                Proposal PDF has been generated successfully and is\n                ready for submission.\n              </p>\n              <p className=\"small\">\n                (For demo: PDF generation handled by backend)\n              </p>\n            </>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}