{"ast":null,"code":"var _jsxFileName = \"/workspaces/tenderBidding/src/pages/UploadProducts.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UploadProducts() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [msg, setMsg] = useState(\"\");\n  const upload = async () => {\n    if (!file) return alert(\"Choose CSV file first\");\n    const fd = new FormData();\n    fd.append(\"file\", file);\n    try {\n      const res = await axios.post(\"/upload_products\", fd, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      setMsg(`Uploaded ${res.data.count} products`);\n    } catch (err) {\n      console.error(\"Upload products err\", err);\n      setMsg(\"Upload failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Upload Products CSV\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"CSV columns: name,type,finish,pack,coverage,price_per_litre, etc.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \".csv\",\n      onChange: e => setFile(e.target.files[0])\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: upload,\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8\n      },\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n_s(UploadProducts, \"q04cYaWIdDlj7H87bsG3yEXPGs8=\");\n_c = UploadProducts;\nvar _c;\n$RefreshReg$(_c, \"UploadProducts\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","UploadProducts","_s","file","setFile","msg","setMsg","upload","alert","fd","FormData","append","res","post","headers","data","count","err","console","error","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","e","target","files","marginTop","onClick","_c","$RefreshReg$"],"sources":["/workspaces/tenderBidding/src/pages/UploadProducts.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function UploadProducts() {\n  const [file, setFile] = useState(null);\n  const [msg, setMsg] = useState(\"\");\n\n  const upload = async () => {\n    if (!file) return alert(\"Choose CSV file first\");\n    const fd = new FormData();\n    fd.append(\"file\", file);\n    try {\n      const res = await axios.post(\"/upload_products\", fd, {\n        headers: { \"Content-Type\": \"multipart/form-data\" }\n      });\n      setMsg(`Uploaded ${res.data.count} products`);\n    } catch (err) {\n      console.error(\"Upload products err\", err);\n      setMsg(\"Upload failed\");\n    }\n  };\n\n  return (\n    <div style={{ padding: 12 }}>\n      <h2>Upload Products CSV</h2>\n      <p>CSV columns: name,type,finish,pack,coverage,price_per_litre, etc.</p>\n      <input type=\"file\" accept=\".csv\" onChange={(e)=> setFile(e.target.files[0])} />\n      <div style={{ marginTop: 8 }}>\n        <button onClick={upload}>Upload</button>\n      </div>\n      {msg && <div style={{ marginTop: 8 }}>{msg}</div>}\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,eAAe,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EACvC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACQ,GAAG,EAAEC,MAAM,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAElC,MAAMU,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzB,IAAI,CAACJ,IAAI,EAAE,OAAOK,KAAK,CAAC,uBAAuB,CAAC;IAChD,MAAMC,EAAE,GAAG,IAAIC,QAAQ,CAAC,CAAC;IACzBD,EAAE,CAACE,MAAM,CAAC,MAAM,EAAER,IAAI,CAAC;IACvB,IAAI;MACF,MAAMS,GAAG,GAAG,MAAMd,KAAK,CAACe,IAAI,CAAC,kBAAkB,EAAEJ,EAAE,EAAE;QACnDK,OAAO,EAAE;UAAE,cAAc,EAAE;QAAsB;MACnD,CAAC,CAAC;MACFR,MAAM,CAAC,YAAYM,GAAG,CAACG,IAAI,CAACC,KAAK,WAAW,CAAC;IAC/C,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEF,GAAG,CAAC;MACzCX,MAAM,CAAC,eAAe,CAAC;IACzB;EACF,CAAC;EAED,oBACEN,OAAA;IAAKoB,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAE;IAAAC,QAAA,gBAC1BtB,OAAA;MAAAsB,QAAA,EAAI;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5B1B,OAAA;MAAAsB,QAAA,EAAG;IAAiE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eACxE1B,OAAA;MAAO2B,IAAI,EAAC,MAAM;MAACC,MAAM,EAAC,MAAM;MAACC,QAAQ,EAAGC,CAAC,IAAI1B,OAAO,CAAC0B,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAAE;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC/E1B,OAAA;MAAKoB,KAAK,EAAE;QAAEa,SAAS,EAAE;MAAE,CAAE;MAAAX,QAAA,eAC3BtB,OAAA;QAAQkC,OAAO,EAAE3B,MAAO;QAAAe,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrC,CAAC,EACLrB,GAAG,iBAAIL,OAAA;MAAKoB,KAAK,EAAE;QAAEa,SAAS,EAAE;MAAE,CAAE;MAAAX,QAAA,EAAEjB;IAAG;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC9C,CAAC;AAEV;AAACxB,EAAA,CA9BuBD,cAAc;AAAAkC,EAAA,GAAdlC,cAAc;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}